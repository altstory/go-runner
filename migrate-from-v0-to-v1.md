# `v0` 到 `v1` 迁移指南 #

从 `v1.0.0` 开始，`go-runner` 的接口相比之前发生了非常巨大的变化。
这种改变为了适应未来对架构的整体升级，让所有服务可以非常灵活的通过 CI 系统加上 k8s 自由组合，适应公司项目的节奏。

主要变化如下：

* 取消 `Run` 方法：取消了之前 `Run` 方法，改为没有任何参数的 `Main`；
* 改变配置加载方法：以前配置通过在 `Run` 的回调里用第二个参数来指定配置类型，现在将这种做法进行了改进，提供了 `LoadConfig` 方法直接将配置项和配置变量进行绑定，详见相关文档；
* 不再需要显示创建 HTTP server：无需手动调用 `server.New` 来创建 HTTP server，现在只需要调用 `server.AddRoutes` 添加至少一条路由信息即可启动服务；
* HTTP server 配置项改变：从原来 `[http]` 变成了 `[http.server]`，这样可以方便未来实现 HTTP client。

另外，从现在开始，所有 altstory 将基于版本号进行开发和升级，版本号提升规则符合 [semver](https://semver.org/) 规则，不再依赖 master 最新提交，而依赖明确的版本。
因此，现在 `go-runner` 已经不具有管理所有库最新版本的功能，使用者自己选择需要使用的库版本号。未来的版本管理和升级会通过 CI 系统完成，不再由大家手动控制。